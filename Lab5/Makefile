CXX=g++ 
CXXFLAGS=-std=c++11 -Wall -Wextra -pedantic 
PRODUCER_OBJECTS= producer.o
CONSUMER_OBJECTS= consumer.o
OBJECTS= $(PRODUCER_OBJECTS) $(CONSUMER_OBJECTS) 
PRODUCER_EXECUTABLE= producer
CONSUMER_EXECUTABLE= consumer

all: $(PRODUCER_EXECUTABLE) $(CONSUMER_EXECUTABLE)

$(PRODUCER_EXECUTABLE): $(PRODUCER_OBJECTS)
	$(CXX) $(LDFLAGS) $(PRODUCER_OBJECTS) -o $@

$(CONSUMER_EXECUTABLE): $(CONSUMER_OBJECTS)
	$(CXX) $(LDFLAGS) $(CONSUMER_OBJECTS) -o $@

%.o: %.cpp
	$(CXX) $(CXXFLAGS) -c $< -o $@

clean:
	rm -f *.o $(PRODUCER_EXECUTABLE) $(CONSUMER_EXECUTABLE)